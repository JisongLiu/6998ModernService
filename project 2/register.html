<html>
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
</head>
<body>
  <h1>Welcome to Flask-Stripe</h1>
  <p id="entries"></p>
  <h3>Please register.</h3>
    <br/>
    <form method="POST" action="">
      <p>Username: <input type="text" id="username" name="username" /> Email: <input type="text" id="email" name="email" /> Address: <input type="text" id="address" name="address" /></p>
      <p>Password: <input type="text" id="password" name="password" /> Verify Password: <input type="text" id="password_check" name="password_check" /></p>
      <p><input type="submit" id="submitButton" value="Register"></p>
    </form>
    <p><em>Already registered?</em> Click <a href="/">here</a> to login.</p>
    <script type="text/javascript">
            var API_URL = 'https://fqa9vsks99.execute-api.us-east-1.amazonaws.com/production/createcustomer';
            $('#submitButton').on('click', function(){
                $.ajax({
                    type: "POST",
                    url: API_URL,
                    data: JSON.stringify({ "name": $('#username').val(), "email": $('#email').val(), "password": $('#password').val(), "address": $('#address').val()}),
                    contentType: "application/json",
                    success: function(data){
                    	if (data == true) {
                    		$('#entries').append('<p>' + "Success!" + '</p>');
                    	} else if (data == false) {
                    		$('#entries').append('<p>' + "Failed!" + '</p>');
                    	}
                    }
                });
                return false;
            });
        </script>

</body>
</html>